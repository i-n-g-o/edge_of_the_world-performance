#N canvas 73 23 1367 847 12;
#X declare -path ../_common;
#X obj 1236 212 array define grainArray;
#X text 1086 158 duration in samples;
#X obj 1236 134 soundfiler;
#X floatatom 1236 158 0 0 0 0 - - -;
#X obj 518 153 s grainDur;
#X obj 16 411 clone grain 16;
#X msg 16 382 next \$1;
#X text 78 383 target next voice;
#X obj 16 264 phasor~;
#X text 79 263 0-1;
#X text 133 299 0-dur in samples;
#X obj 1236 182 s fileDur;
#X floatatom 17 5 10 0 0 0 - - -;
#X obj 16 -53 r fileDur;
#X obj 110 -76 loadbang;
#X obj 109 -48 samplerate~;
#X obj 16 -23 expr $f2 / $f1;
#X obj 201 -77 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144
-1 -1;
#X text 107 6 normal speed for this sample;
#X obj 16 231 * 1;
#X floatatom 38 175 10 0 0 0 - - -;
#X text 169 150 playback rate (1 is normal);
#X obj 16 356 snapshot~;
#X obj 482 294 hsl 256 15 0 1 0 0 empty empty empty -2 -8 0 10 -203904
-1 -1 25500 1;
#X obj 480 317 nbx 5 14 -1e+37 1e+37 0 0 empty empty empty 0 -8 0 10
-228856 -1 -1 1 256;
#X text 545 314 <= input;
#X obj 383 20 hsl 128 15 0 1 0 0 empty empty empty -2 -8 0 10 -203904
-1 -1 0 1;
#X obj 521 84 hsl 128 15 0 1 0 0 empty empty empty -2 -8 0 10 -203904
-1 -1 0 1;
#X obj 1236 82 loadbang;
#X obj 36 196 t b f;
#X obj 299 415 hsl 128 15 0 1 0 0 empty empty empty -2 -8 0 10 -203904
-1 -1 0 1;
#X obj 416 -161 inlet;
#X obj 416 -115 unpack 0 0 0 0 0 0 0 0;
#X obj 41 73 hsl 128 15 0 1 0 0 empty empty empty -2 -8 0 10 -203904
-1 -1 0 1;
#X obj 232 646 dac~;
#X obj 122 676 throw~ outL;
#X obj 212 675 throw~ outR;
#X obj 177 542 vradio 15 1 0 3 empty empty empty 0 -8 0 10 -228856
-1 -1 2;
#X text 165 542 0;
#X text 165 557 1;
#X text 165 572 2;
#X text 205 575 <= route to correct output (0 closed \, 1 bela \, 2
laptop);
#X floatatom 174 127 5 0 0 0 - - -;
#X text 661 81 <= grain duration;
#N canvas 883 182 450 300 grainDur 0;
#X floatatom 44 155 10 0 0 0 - - -;
#X obj 45 106 nbx 5 14 -1e+37 1e+37 0 0 empty empty empty 0 -8 0 10
-228856 -1 -1 0 256;
#X obj 45 47 nbx 5 14 -1e+37 1e+37 0 0 empty empty empty 0 -8 0 10
-228856 -1 -1 0 256;
#X text 105 46 <= input;
#X text 107 104 <= scaled value;
#X obj 68 126 loadmess 70;
#X obj 45 74 scale 0 1 60 240;
#X obj 45 8 inlet;
#X obj 44 206 outlet;
#X connect 0 0 8 0;
#X connect 1 0 0 0;
#X connect 2 0 6 0;
#X connect 5 0 0 0;
#X connect 6 0 1 0;
#X connect 7 0 2 0;
#X restore 518 127 pd grainDur;
#N canvas 0 23 450 300 volume 0;
#X obj 133 147 nbx 5 14 -1e+37 1e+37 0 0 empty empty empty 0 -8 0 10
-228856 -1 -1 0 256;
#X obj 133 89 nbx 5 14 -1e+37 1e+37 0 0 empty empty empty 0 -8 0 10
-228856 -1 -1 0 256;
#X text 193 88 <= input;
#X text 195 148 <= scaled value;
#X obj 133 117 scale 0 1 0 0.2;
#X obj 51 209 *~ 0.1;
#X obj 133 39 inlet;
#X obj 51 40 inlet~;
#X obj 50 257 outlet~;
#X connect 0 0 5 1;
#X connect 1 0 4 0;
#X connect 4 0 0 0;
#X connect 5 0 8 0;
#X connect 6 0 1 0;
#X connect 7 0 5 0;
#X restore 236 458 pd volume;
#X text 437 416 <= volume;
#X text 531 19 <= grain rate;
#N canvas 0 23 584 416 grainRate 0;
#X obj 90 240 tgl 15 0 empty empty empty 17 7 0 10 -262144 -1 -1 1
1;
#X obj 90 264 metro 125;
#X floatatom 171 178 5 0 0 0 - - -;
#X obj 152 113 nbx 5 14 -1e+37 1e+37 0 0 empty empty empty 0 -8 0 10
-228856 -1 -1 0 256;
#X obj 152 62 nbx 5 14 -1e+37 1e+37 0 0 empty empty empty 0 -8 0 10
-228856 -1 -1 0 256;
#X text 213 61 <= input;
#X text 217 110 <= scaled value;
#X obj 90 212 loadbang;
#X obj 181 150 loadmess 35;
#X obj 152 85 scale 0 1 5 300;
#X text 225 234 <= grain rate;
#N canvas 0 23 450 300 randomVals 0;
#X obj 147 48 random 10;
#X obj 147 72 + 50;
#X floatatom 268 48 5 0 0 0 - - -;
#X floatatom 268 71 5 0 0 0 - - -;
#X obj 320 48 loadmess 35;
#X obj 320 72 loadmess 30;
#X text 186 71 <= jitter;
#X floatatom 147 96 5 0 0 0 - - -;
#X obj 46 163 + 0;
#X floatatom 46 187 5 0 0 0 - - -;
#X obj 147 7 inlet;
#X obj 64 7 inlet;
#X obj 46 219 outlet;
#X connect 0 0 1 0;
#X connect 1 0 7 0;
#X connect 2 0 0 1;
#X connect 3 0 1 1;
#X connect 4 0 2 0;
#X connect 5 0 3 0;
#X connect 7 0 8 0;
#X connect 8 0 9 0;
#X connect 9 0 12 0;
#X connect 10 0 0 0;
#X connect 11 0 8 1;
#X restore 171 209 pd randomVals;
#X floatatom 171 233 5 0 0 0 - - -;
#X obj 152 21 inlet;
#X obj 90 307 outlet;
#X connect 0 0 1 0;
#X connect 1 0 11 1;
#X connect 1 0 14 0;
#X connect 2 0 11 0;
#X connect 3 0 2 0;
#X connect 4 0 9 0;
#X connect 7 0 0 0;
#X connect 8 0 2 0;
#X connect 9 0 3 0;
#X connect 11 0 1 1;
#X connect 11 0 12 0;
#X connect 13 0 4 0;
#X restore 379 49 pd grainRate;
#X obj 38 127 scale 0 1 0 0.0002;
#X obj 1257 -71 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144
-1 -1;
#X obj 1286 -9 pack 0 0 0 0 0 0 0 0;
#N canvas 683 23 597 755 presetList 0;
#X obj 37 40 inlet;
#X obj 17 487 outlet;
#X obj 14 116 sel 1;
#X obj 63 116 sel 2;
#X obj 113 117 sel 3;
#X obj 161 119 sel 4;
#X obj 211 118 sel 5;
#X obj 14 448 pack f f f f f f f f;
#X obj 257 119 sel 6;
#X msg 58 228 0.576471 0 0.15748 0.976378 1 0 0 0;
#X msg 146 346 0.823529 0 0.834646 0.976378 1 0 0 0;
#X msg 107 305 0.492157 0 0.0314961 0.653543 1 0 0 0;
#X msg 33 190 0.964706 0 0.15748 0.976378 1 0 0 0;
#X msg 73 269 0.231373 0 0.00787402 0.496063 1 0 0 0;
#X msg 17 151 0.20451 0 0 1 1 0 0 0;
#X connect 0 0 2 0;
#X connect 0 0 3 0;
#X connect 0 0 4 0;
#X connect 0 0 5 0;
#X connect 0 0 6 0;
#X connect 0 0 8 0;
#X connect 2 0 14 0;
#X connect 3 0 12 0;
#X connect 4 0 9 0;
#X connect 5 0 13 0;
#X connect 6 0 11 0;
#X connect 7 0 1 0;
#X connect 8 0 10 0;
#X connect 9 0 7 0;
#X connect 10 0 7 0;
#X connect 11 0 7 0;
#X connect 12 0 7 0;
#X connect 13 0 7 0;
#X connect 14 0 7 0;
#X restore 1062 -101 pd presetList;
#X floatatom 1062 -130 7 0 7 0 - - -;
#X obj 1062 -160 inlet;
#X text 1118 -161 <= inlet for preset retrival;
#X obj 1121 -69 s preset;
#X text 1256 -104 preset preset storage;
#X text 1558 -48 <= receive values;
#X text 1286 -72 <= bang to print preset values;
#X obj 1070 680 outlet;
#X obj 1286 -48 r v1;
#X obj 1317 -48 r v2;
#X obj 1349 -48 r v3;
#X obj 1382 -48 r v4;
#X obj 1414 -48 r v5;
#X obj 1445 -48 r v6;
#X obj 1482 -48 r v7;
#X obj 1519 -48 r v8;
#X obj 483 -138 r preset;
#X text 467 -162 <= inlet for gestiure interaction;
#X obj 335 49 s v3;
#X obj 531 106 s v4;
#X obj 307 436 s v5;
#X obj 16 440 *~ 12;
#X obj 865 -160 inlet;
#X text 921 -161 raw sensor data;
#X obj 177 614 gate~ 2 1;
#X obj 379 73 s grainRate;
#X obj 61 327 r grainRate;
#X obj 481 374 s range;
#X obj 120 274 r range;
#X obj 797 328 loadmess 1.9101e+11;
#X obj 479 268 loadmess 1;
#X obj 47 105 s v1;
#X text 755 294 <= sample selection range;
#X obj 55 149 loadmess 0.0001;
#X obj 815 -115 unpack 0 0 0 0 0 0 0 0;
#X obj 817 -85 acc_line;
#X obj 838 -66 acc_line;
#X obj 859 -42 acc_line;
#X obj 881 -19 acc_line;
#X obj 904 -87 acc_line;
#X obj 925 -68 acc_line;
#X obj 946 -44 acc_line;
#X obj 968 -21 acc_line;
#X obj 978 9 + 0;
#X obj 960 33 + 0;
#X obj 943 58 + 0;
#X obj 925 82 + 0;
#X obj 865 11 + 0;
#X obj 847 35 + 0;
#X obj 830 62 + 0;
#X obj 924 106 min 1;
#X obj 925 127 max 0;
#X obj 28 -247 declare -path ../_common;
#X obj 598 409 min 1;
#X obj 598 480 line;
#X obj 598 433 max 0;
#X obj 236 498 *~ 0;
#X msg 1236 107 read -resize gran_sample.wav grainArray;
#X obj 598 383 scale 0.05 0.5 0 1;
#X msg 598 456 \$1 500;
#X obj 1322 134 unpack;
#X floatatom 1322 159 0 0 0 0 - - -;
#X obj 480 347 scale 0 1 0 4.1e+08;
#X text 1368 159 sample rate;
#X obj 16 301 *~ 1.9101e+11;
#X connect 2 0 3 0;
#X connect 2 1 113 0;
#X connect 3 0 11 0;
#X connect 5 0 74 0;
#X connect 6 0 5 0;
#X connect 8 0 117 0;
#X connect 12 0 19 0;
#X connect 13 0 16 0;
#X connect 14 0 15 0;
#X connect 15 0 16 1;
#X connect 16 0 12 0;
#X connect 17 0 15 0;
#X connect 19 0 8 1;
#X connect 20 0 29 0;
#X connect 22 0 6 0;
#X connect 23 0 24 0;
#X connect 24 0 115 0;
#X connect 26 0 48 0;
#X connect 26 0 71 0;
#X connect 27 0 44 0;
#X connect 27 0 72 0;
#X connect 28 0 110 0;
#X connect 29 0 19 0;
#X connect 29 1 19 1;
#X connect 30 0 45 1;
#X connect 30 0 73 0;
#X connect 31 0 32 0;
#X connect 32 0 33 0;
#X connect 32 2 26 0;
#X connect 32 3 27 0;
#X connect 32 4 30 0;
#X connect 33 0 42 0;
#X connect 33 0 49 0;
#X connect 33 0 84 0;
#X connect 37 0 77 0;
#X connect 44 0 4 0;
#X connect 45 0 109 0;
#X connect 48 0 78 0;
#X connect 49 0 20 0;
#X connect 50 0 51 0;
#X connect 52 0 56 0;
#X connect 52 0 60 0;
#X connect 53 0 52 0;
#X connect 54 0 53 0;
#X connect 61 0 51 0;
#X connect 62 0 51 1;
#X connect 63 0 51 2;
#X connect 64 0 51 3;
#X connect 65 0 51 4;
#X connect 66 0 51 5;
#X connect 67 0 51 6;
#X connect 68 0 51 7;
#X connect 69 0 32 0;
#X connect 74 0 45 0;
#X connect 75 0 87 0;
#X connect 77 0 36 0;
#X connect 77 0 35 0;
#X connect 77 1 34 0;
#X connect 77 1 34 1;
#X connect 79 0 22 0;
#X connect 81 0 117 1;
#X connect 82 0 115 4;
#X connect 83 0 23 0;
#X connect 86 0 20 0;
#X connect 87 0 88 0;
#X connect 87 1 89 0;
#X connect 87 2 90 0;
#X connect 87 3 91 0;
#X connect 87 4 92 0;
#X connect 87 5 93 0;
#X connect 87 6 94 0;
#X connect 87 7 95 0;
#X connect 88 0 102 0;
#X connect 89 0 101 0;
#X connect 90 0 100 0;
#X connect 91 0 100 1;
#X connect 92 0 98 0;
#X connect 93 0 97 0;
#X connect 94 0 96 0;
#X connect 95 0 96 1;
#X connect 96 0 97 1;
#X connect 97 0 98 1;
#X connect 98 0 99 1;
#X connect 99 0 103 0;
#X connect 100 0 101 1;
#X connect 101 0 102 1;
#X connect 102 0 99 0;
#X connect 103 0 104 0;
#X connect 104 0 111 0;
#X connect 106 0 108 0;
#X connect 107 0 109 1;
#X connect 108 0 112 0;
#X connect 109 0 77 1;
#X connect 110 0 2 0;
#X connect 111 0 106 0;
#X connect 112 0 107 0;
#X connect 113 0 114 0;
#X connect 115 0 80 0;
#X connect 117 0 22 0;
